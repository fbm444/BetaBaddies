# =============================================================================
# BetaBaddies Backend Environment Variables
# =============================================================================
# Copy this file to backend/.env and fill in your actual values
# DO NOT commit .env to version control - it contains sensitive information
# =============================================================================

# -----------------------------------------------------------------------------
# Environment Configuration
# -----------------------------------------------------------------------------
NODE_ENV=development
# Options: development, staging, production
# Overrides: ENVIRONMENT (if set)

ENVIRONMENT=development
# Optional: Overrides NODE_ENV if set
# Options: development, staging, production

LOG_LEVEL=DEBUG
# Optional: Overrides default log level based on NODE_ENV
# Options: DEBUG, INFO, WARN, ERROR
# Defaults by environment:
#   - Development: DEBUG
#   - Staging: INFO
#   - Production: WARN

LOG_FORMAT=dev
# Optional: Morgan HTTP logging format
# Options: dev, combined, common, short, tiny
# Defaults: dev (development), combined (production)

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
SERVER_PORT=3001
# Optional: Server port (defaults to 3001)
# Alternative: PORT (used by Railway/Heroku)

BACKEND_URL=http://localhost:3001
# Required in production: Full backend URL
# Example: https://betabaddies-production.up.railway.app
# Used for OAuth callbacks and CORS

FRONTEND_URL=http://localhost:3000
# Required in production: Full frontend URL
# Example: https://beta-baddies.vercel.app
# Used for CORS and OAuth redirects

CORS_ORIGIN=http://localhost:3000
# Optional: Comma-separated list of allowed origins
# If not set, uses FRONTEND_URL
# Supports wildcards: *.vercel.app

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# Option 1: Use DATABASE_URL (recommended for cloud/Supabase)
DATABASE_URL=postgresql://user:password@host:6543/database?pgbouncer=true
# Required for Supabase/Railway: Use "Session mode" connection string (port 6543)
# Format: postgresql://[user]:[password]@[host]:[port]/[database]?pgbouncer=true

# Option 2: Individual database parameters (for local development)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=ats_tracker
DB_USER=ats_user
DB_PASS=ats_password
DB_SSL=false
# Set DB_SSL=true for cloud databases requiring SSL

# -----------------------------------------------------------------------------
# Session & Security
# -----------------------------------------------------------------------------
SESSION_SECRET=your-secret-key-change-in-production
# REQUIRED in production: Random secret string for session encryption
# Generate with: openssl rand -base64 32
# Must be set in production or server will exit

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
# Optional: Rate limit window in milliseconds (default: 15 minutes)
# 900000 = 15 minutes

RATE_LIMIT_MAX_REQUESTS=1000
# Optional: Maximum requests per window (default: 1000)
# Production default: 1000, Development: 1000

# -----------------------------------------------------------------------------
# File Upload Configuration
# -----------------------------------------------------------------------------
UPLOAD_MAX_SIZE=10mb
# Optional: Maximum file upload size (default: 10mb)
# Format: 10mb, 50mb, etc.

UPLOAD_DIR=uploads
# Optional: Directory for file uploads (default: ./uploads)
# Relative to backend directory

CLOUD_PROVIDER=local
# Optional: File storage provider
# Options: local, aws-s3
# Set to "aws-s3" to use S3 for file storage

# -----------------------------------------------------------------------------
# AWS Configuration (for S3, SES, SNS)
# -----------------------------------------------------------------------------
AWS_ACCESS_KEY_ID=your-aws-access-key-id
# Required if using AWS services (S3, SES, SNS)

AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
# Required if using AWS services (S3, SES, SNS)

AWS_REGION=us-east-1
# Optional: AWS region (default: us-east-1)
# Common: us-east-1, us-east-2, us-west-2

# AWS S3 (for file storage)
AWS_S3_BUCKET=your-s3-bucket-name
# Required if CLOUD_PROVIDER=aws-s3

# AWS SES (for email)
USE_AWS_SES=false
# Optional: Use AWS SES for email (default: false)
# Set to "true" to use AWS SES instead of SMTP

AWS_SES_FROM_EMAIL=ats.tracker12@gmail.com
# Optional: From email address for AWS SES
# Must be verified in AWS SES

# AWS SNS (for notifications)
AWS_SNS_TOPIC_ARN=arn:aws:sns:region:account-id:topic-name
# Optional: SNS topic ARN for deployment notifications

AWS_SNS_PHONE_NUMBER=+1234567890
# Optional: Phone number for SNS SMS notifications
# Format: +1234567890

# -----------------------------------------------------------------------------
# Email Configuration (SMTP - alternative to AWS SES)
# -----------------------------------------------------------------------------
SMTP_HOST=smtp.gmail.com
# Optional: SMTP server hostname
# Required if USE_AWS_SES=false

SMTP_PORT=587
# Optional: SMTP port (default: 587 for TLS)

SMTP_USER=your_email@gmail.com
# Optional: SMTP username/email
# Required if USE_AWS_SES=false

SMTP_PASS=your_app_password
# Optional: SMTP password/app password
# Required if USE_AWS_SES=false
# For Gmail: Use App Password, not regular password

SMTP_SECURE=false
# Optional: Use TLS (default: false, uses STARTTLS on port 587)

# -----------------------------------------------------------------------------
# OpenAI Configuration
# -----------------------------------------------------------------------------
OPENAI_API_KEY=sk-your-openai-api-key-here
# Required: OpenAI API key for AI features
# Get from: https://platform.openai.com/api-keys

OPENAI_API_URL=https://api.openai.com/v1
# Optional: OpenAI API URL (default: https://api.openai.com/v1)
# For custom endpoints or proxies

OPENAI_MODEL=gpt-4o-mini
# Optional: Default OpenAI model (default: gpt-4o-mini)
# Options: gpt-4, gpt-4-turbo, gpt-4o-mini, gpt-3.5-turbo

# -----------------------------------------------------------------------------
# Google OAuth Configuration
# -----------------------------------------------------------------------------
# General Google OAuth (for login)
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
# Optional: Google OAuth client ID

GOOGLE_CLIENT_SECRET=your-google-client-secret
# Optional: Google OAuth client secret

GOOGLE_CALLBACK_URL=http://localhost:3001/api/v1/users/auth/google/callback
# Optional: Google OAuth callback URL
# Defaults to: ${BACKEND_URL}/api/v1/users/auth/google/callback
# Production: https://betabaddies-production.up.railway.app/api/v1/users/auth/google/callback

# Google Calendar OAuth
GOOGLE_CALENDAR_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
# Optional: Separate client ID for Google Calendar
# Falls back to GOOGLE_CLIENT_ID if not set

GOOGLE_CALENDAR_CLIENT_SECRET=your-google-client-secret
# Optional: Separate client secret for Google Calendar
# Falls back to GOOGLE_CLIENT_SECRET if not set

GOOGLE_CALENDAR_CALLBACK_URL=http://localhost:3001/api/v1/calendar/auth/callback
# Optional: Google Calendar callback URL
# Defaults to: ${BACKEND_URL}/api/v1/calendar/auth/callback

# Gmail OAuth
GOOGLE_GMAIL_CALLBACK_URL=http://localhost:3001/api/v1/gmail/auth/callback
# Optional: Gmail OAuth callback URL
# Defaults to: ${BACKEND_URL}/api/v1/gmail/auth/callback
# Uses GOOGLE_CLIENT_ID/GOOGLE_CLIENT_SECRET or GOOGLE_CONTACTS_CLIENT_ID/SECRET

# Google Contacts OAuth
GOOGLE_CONTACTS_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
# Optional: Separate client ID for Google Contacts
# Falls back to GOOGLE_CLIENT_ID if not set

GOOGLE_CONTACTS_CLIENT_SECRET=your-google-client-secret
# Optional: Separate client secret for Google Contacts
# Falls back to GOOGLE_CLIENT_SECRET if not set

GOOGLE_CONTACTS_CALLBACK_URL=http://localhost:3001/api/v1/network/google-contacts/auth/callback
# Optional: Google Contacts callback URL
# Defaults to: ${BACKEND_URL}/api/v1/network/google-contacts/auth/callback

# -----------------------------------------------------------------------------
# LinkedIn OAuth Configuration
# -----------------------------------------------------------------------------
LINKEDIN_CLIENT_ID=your-linkedin-client-id
# Optional: LinkedIn OAuth client ID

LINKEDIN_CLIENT_SECRET=your-linkedin-client-secret
# Optional: LinkedIn OAuth client secret

LINKEDIN_CALLBACK_URL=http://localhost:3001/api/v1/linkedin/auth/callback
# Optional: LinkedIn OAuth callback URL
# Defaults to: ${BACKEND_URL}/api/v1/linkedin/auth/callback

# -----------------------------------------------------------------------------
# GitHub OAuth Configuration
# -----------------------------------------------------------------------------
GITHUB_CLIENT_ID=your-github-client-id
# Optional: GitHub OAuth client ID

GITHUB_CLIENT_SECRET=your-github-client-secret
# Optional: GitHub OAuth client secret

GITHUB_CALLBACK_URL=http://localhost:3001/api/v1/github/auth/callback
# Optional: GitHub OAuth callback URL
# Defaults to: ${BACKEND_URL}/api/v1/github/auth/callback

# -----------------------------------------------------------------------------
# Geocoding Configuration
# -----------------------------------------------------------------------------
GEOCODING_BASE_URL=https://nominatim.openstreetmap.org
# Optional: Geocoding API base URL (default: Nominatim)
# Used for location/address geocoding

GEOCODING_USER_AGENT=YourAppName/1.0 (contact@example.com)
# Optional: User agent for geocoding API requests
# Required by Nominatim - should include contact email
# Format: AppName/Version (contact@example.com)

GEOCODING_REFERER=http://localhost:3000
# Optional: Referer header for geocoding API
# Defaults to: http://localhost

GEOCODING_CONTACT_EMAIL=support@example.com
# Optional: Contact email for geocoding API
# Used in user agent if GEOCODING_USER_AGENT not set

# -----------------------------------------------------------------------------
# Sentry Error Tracking
# -----------------------------------------------------------------------------
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# Optional: Sentry DSN for error tracking
# Defaults to hardcoded DSN in instrument.js if not set
# Get from: https://sentry.io/settings/projects/

# -----------------------------------------------------------------------------
# Railway/Deployment Configuration
# -----------------------------------------------------------------------------
RAILWAY_ENVIRONMENT=production
# Optional: Railway environment name
# Automatically set by Railway

# -----------------------------------------------------------------------------
# Notes
# -----------------------------------------------------------------------------
# 1. Required variables for production:
#    - NODE_ENV=production
#    - SESSION_SECRET (must be set or server exits)
#    - BACKEND_URL (for OAuth callbacks)
#    - FRONTEND_URL (for CORS)
#    - DATABASE_URL (for database connection)
#
# 2. OAuth Setup:
#    - Add callback URLs to OAuth provider dashboards
#    - Google: https://console.cloud.google.com/apis/credentials
#    - LinkedIn: https://www.linkedin.com/developers/apps
#    - GitHub: https://github.com/settings/developers
#
# 3. Database:
#    - Use DATABASE_URL for cloud/Supabase (recommended)
#    - Use individual DB_* variables for local development
#    - Supabase requires port 6543 (Session mode) for Railway
#
# 4. Email:
#    - Choose either AWS SES (USE_AWS_SES=true) or SMTP
#    - Gmail requires App Password (not regular password)
#    - AWS SES requires verified email address
#
# 5. File Storage:
#    - Local: CLOUD_PROVIDER=local (default)
#    - S3: CLOUD_PROVIDER=aws-s3 + AWS credentials + AWS_S3_BUCKET
#
# 6. Security:
#    - Never commit .env to version control
#    - Use strong, random SESSION_SECRET in production
#    - Rotate API keys regularly
#    - Use environment-specific values


